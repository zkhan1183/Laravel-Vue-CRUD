import{a as m}from"./index-dd496a4f.js";import{_ as p,o as i,c as r,b as o,F as _,e as u,g as h,h as y,i as c,v as d,t as g}from"./app-6f6e0754.js";const v={name:"add-company",data(){return{company:{name:"",email:"",logo:"",website:""},validationErrors:""}},methods:{onImageChange(n){console.log(n.target.files[0]),this.company.logo=n.target.files[0]},async create(){const n={headers:{"content-type":"multipart/form-data"}};let s=new FormData;s.append("logo",this.company.logo),s.append("name",this.company.name),s.append("website",this.company.website),s.append("email",this.company.email),await m.post("/companies",s,n).then(a=>{this.$router.push({name:"companiesList"})}).catch(a=>{console.log(a),a.response.status==422&&(this.validationErrors=a.response.data.errors)})}}},f={class:"row"},b={class:"col-12"},w={class:"card"},x=o("div",{class:"card-header"},[o("h4",null,"Add Company")],-1),C={class:"card-body"},E={key:0},V={class:"alert alert-danger"},k={class:"row"},D={class:"col-12 mb-2"},B={class:"form-group"},F=o("label",null,"Name",-1),I={class:"col-12 mb-2"},L={class:"form-group"},N=o("label",null,"Email",-1),S={class:"col-12 mb-2"},U={class:"form-group"},A=o("label",null,"Website",-1),M={class:"col-12 mb-2"},T={class:"form-group"},W=o("label",null,"Logo",-1),j=o("div",{class:"col-12"},[o("button",{type:"submit",class:"btn btn-primary"},"Save")],-1);function q(n,s,a,z,t,l){return i(),r("div",f,[o("div",b,[o("div",w,[x,o("div",C,[t.validationErrors?(i(),r("div",E,[o("ul",V,[(i(!0),r(_,null,u(t.validationErrors,(e,G,H)=>(i(),r("li",null,"@"+g(e),1))),256))])])):h("",!0),o("form",{onSubmit:s[4]||(s[4]=y((...e)=>l.create&&l.create(...e),["prevent"]))},[o("div",k,[o("div",D,[o("div",B,[F,c(o("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>t.company.name=e)},null,512),[[d,t.company.name]])])]),o("div",I,[o("div",L,[N,c(o("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>t.company.email=e)},null,512),[[d,t.company.email]])])]),o("div",S,[o("div",U,[A,c(o("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=e=>t.company.website=e)},null,512),[[d,t.company.website]])])]),o("div",M,[o("div",T,[W,o("input",{type:"file",class:"form-control",name:"logo",onChange:s[3]||(s[3]=(...e)=>l.onImageChange&&l.onImageChange(...e))},null,32)])]),j])],32)])])])])}const O=p(v,[["render",q]]);export{O as default};
