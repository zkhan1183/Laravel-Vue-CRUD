import{a as _}from"./index-dd496a4f.js";import{V as b}from"./Pagination-f23b3c5b.js";import{_ as v,r as E,a as u,o as n,c as l,b as e,d,w as h,F as k,e as x,f as y,t as s}from"./app-6f6e0754.js";const C={name:"employees",components:{VuePagination:b},data(){return{employees:{total:0,per_page:2,from:1,to:0,data:null,current_page:1},offset:4,companies:E([])}},mounted(){this.getEmployee()},methods:{async getEmployee(a=1){await _.get(`employees?page=${this.employees.current_page}`).then(t=>{this.employees=t.data}).catch(t=>{console.log(t),this.employees=[]})},deleteEmployee(a){confirm("Are you sure to delete this employee ?")&&_.delete(`/employees/${a}`).then(t=>{this.getEmployee()}).catch(t=>{console.log(t)})}}},N={class:"row"},V={class:"col-12 mb-2 text-end"},w={class:"col-12"},F={class:"card"},A=e("div",{class:"card-header"},[e("h4",null,"Employee")],-1),B={class:"card-body"},D={class:"table-responsive"},L={class:"table table-bordered"},P=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"First Name"),e("th",null,"Last Name"),e("th",null,"Company"),e("th",null,"Email"),e("th",null,"Phone"),e("th",null,"Actions")])],-1),$={key:0},I=["onClick"],S={key:1},T=e("tr",null,[e("td",{colspan:"7",align:"center"},"No Employee Found.")],-1),j=[T];function q(a,t,z,G,i,c){var m,p;const r=u("router-link"),g=u("vue-pagination");return n(),l("div",N,[e("div",V,[d(r,{to:{name:"employeeAdd"},class:"btn btn-primary"},{default:h(()=>[y("Create")]),_:1})]),e("div",w,[e("div",F,[A,e("div",B,[e("div",D,[e("table",L,[P,((p=(m=i.employees)==null?void 0:m.data)==null?void 0:p.length)>0?(n(),l("tbody",$,[(n(!0),l(k,null,x(i.employees.data,(o,f)=>(n(),l("tr",{key:f},[e("td",null,s(o.id),1),e("td",null,s(o.first_name),1),e("td",null,s(o.last_name),1),e("td",null,s(o.company.name),1),e("td",null,s(o.email),1),e("td",null,s(o.phone),1),e("td",null,[d(r,{to:{name:"employeeEdit",params:{id:o.id}},class:"btn btn-success"},{default:h(()=>[y("Edit")]),_:2},1032,["to"]),e("button",{type:"button",onClick:H=>c.deleteEmployee(o.id),class:"btn btn-danger"},"Delete",8,I)])]))),128))])):(n(),l("tbody",S,j))]),d(g,{pagination:i.employees,onPaginate:t[0]||(t[0]=o=>c.getEmployee()),offset:4},null,8,["pagination"])])])])])])}const O=v(C,[["render",q]]);export{O as default};
