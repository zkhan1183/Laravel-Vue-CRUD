import{a as p}from"./index-dd496a4f.js";import{_ as u,o as i,c as l,b as o,F as _,e as h,g as y,h as g,i as c,v as r,t as v}from"./app-6f6e0754.js";const b={name:"edit-company",data(){return{company:{name:"",email:"",logo:"",website:""},validationErrors:""}},mounted(){this.showCompany()},methods:{onImageChange(s){console.log(s.target.files[0]),this.company.logo=s.target.files[0]},async showCompany(){await p.get(`/companies/${this.$route.params.id}`).then(s=>{const{name:t,email:d,logo:m,website:a}=s.data.data;this.company.name=t,this.company.email=d,this.company.logo=m,this.company.website=a}).catch(s=>{console.log(s)})},async update(){await p.put(`/companies/${this.$route.params.id}`,this.company).then(s=>{this.$router.push({name:"companiesList"})}).catch(s=>{console.log(s),s.response.status==422&&(this.validationErrors=s.response.data.errors)})}}},f={class:"row"},w={class:"col-12"},x={class:"card"},C=o("div",{class:"card-header"},[o("h4",null,"Update Company")],-1),E={class:"card-body"},U={key:0},V={class:"alert alert-danger"},k={class:"row"},B={class:"col-12 mb-2"},I={class:"form-group"},L=o("label",null,"Name",-1),N={class:"col-12 mb-2"},D={class:"form-group"},F=o("label",null,"Email",-1),M={class:"col-12 mb-2"},S={class:"form-group"},T=o("label",null,"Website",-1),W={class:"col-12 mb-2"},j={class:"form-group"},q=o("label",null,"Logo",-1),z=o("div",{class:"col-12"},[o("button",{type:"submit",class:"btn btn-primary"},"Update")],-1);function A(s,t,d,m,a,n){return i(),l("div",f,[o("div",w,[o("div",x,[C,o("div",E,[a.validationErrors?(i(),l("div",U,[o("ul",V,[(i(!0),l(_,null,h(a.validationErrors,(e,G,H)=>(i(),l("li",null,"@"+v(e),1))),256))])])):y("",!0),o("form",{onSubmit:t[4]||(t[4]=g((...e)=>n.update&&n.update(...e),["prevent"]))},[o("div",k,[o("div",B,[o("div",I,[L,c(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>a.company.name=e)},null,512),[[r,a.company.name]])])]),o("div",N,[o("div",D,[F,c(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>a.company.email=e)},null,512),[[r,a.company.email]])])]),o("div",M,[o("div",S,[T,c(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>a.company.website=e)},null,512),[[r,a.company.website]])])]),o("div",W,[o("div",j,[q,o("input",{type:"file",class:"form-control",onChange:t[3]||(t[3]=(...e)=>n.onImageChange&&n.onImageChange(...e))},null,32)])]),z])],32)])])])])}const O=u(b,[["render",A]]);export{O as default};
